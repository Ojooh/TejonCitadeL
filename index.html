<html>

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css"/>

    <script>
        window.onload = function () {
            CryptoCharts.priceHistory({
                chart_id: "chartContainer",
                loading_indicator: { colors: ["#fff", "#fff", "#fff", "#fff"] },
                cryptocompare_tickers: ["BTC"],
                last_days: 90,
                axes: true,
                options: {
                    colors: ["#fff"],
                    title: {
                        text: "Bitcoin price chart", align: 'left',
                        style: {
                            color: '#fff',
                            fontWeight: 'bold',
                            fontSize: '25px'
                        }
                    },
                    subtitle: {
                        text: 'Last 90 days', align: 'left',
                        style: {
                            fontSize: '15px'
                        }
                    },
                    chart: { type: 'line', height: '100%' },
                    yaxis: { opposite: false },

                }
            });

        }
    </script>
</head>
<body class="hero">

    <!-- ##################################   NAV SECTION   #################################### -->

    <div>
        <nav>
            <a href="https://tejoncitadel.com/"><img src="images/logo-trans.png" id="logo"  
                            alt="tejon citadel logo" loading="lazy">
            </a>
            <ul>
                <li><a href="">Follow on <i class="fa fa-twitter" style="font-size:20px; "></i></a></li>
                <li><a href="">Purchase <i class="fa fa-btc"></i></a></li>
            </ul>
            <img src="images/moon.png" id="icon"/>
            </nav>
    </div>

    <!-- ######################################################################################### -->


    <!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^   BITCOIN PRICE DATA   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ -->

    <section class="top-content">
        <div class="circle-top"></div>
        <div class="vl-start"></div>
        <div class="head">
            <div class="hl-block">
                <span class="circle circle-left"></span>
                <span class="hl"></span>
                <span class="circle circle-right"></span>
            </div>
            <h1 class="text-center">Bitcoin price data</h1>
            <div class="hl-block">
                <span class="circle circle-left"></span>
                <span class="hl"></span>
                <span class="circle circle-right"></span>
            </div>
        </div>
        <div class="vl"></div>
        <div class="content-top">
            <div class="hl-block upper-content-hl">
                <span class="circle circle-left"></span>
                <span class="hl"></span>
                <span class="circle circle-right"></span>
            </div>
            <div class="pricing-box-container">
                <div class="chart-box text-center">
                    <div class="charty-shell">
                        <div id="chartContainer"></div>
                    </div>
                </div>
                <div class="pricing-box text-center">
                    <h1> <i class="fa fa-bitcoin fa-lg"></i> <br /> <br /> Bitcoin price
                    </h1>
                    <ul class="features-list">
                        <li id="price-id"></li>
                    </ul>
                    <!-- <hr> -->
                    <hr>
                    <h1> <i class="fa fa-puzzle-piece fa-lg"></i> <br /> <br /> Total volume</h1>
                    <ul class="features-list">
                        <li id="volume-id"></li>
                        <li> <i class="fas fa-dollar-sign fa-10x "></i></li>
                    </ul>

                </div>
                
                <div class="pricing-box text-center">
                    <h1><i class="fa fa-arrow-up fa-lg"></i> <br /> <br /> All time high (ATH)</h1>
                    <ul class="features-list">
                        <li id="ath-id"></li>
                   </ul>
                   <hr>
                   <h1><i class="fa fa-caret-up fa-lg"></i> <br /> <br /> Changing ATH</h1>
                    <ul class="features-list">
                        <li id="change-id"></li>
                    </ul>
                </div>
                             
            </div>

            <div class="hl-block">
                <span class="circle circle-left"></span>
                <span class="hl"></span>
                <span class="circle circle-right"></span>
            </div>
        </div>
        <div class="vl-end"></div>
        <div class="circle-bottom"></div>
    </section>

    <!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ -->
    <!-- #####################################   CHART SECTION   ################################### -->
    <!--Crypto Charts JavaScript Libraries-->
    <script src="https://cdn.jsdelivr.net/npm/cryptocharts"></script>

   

    <!-- ########################################################################################## -->

    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~   PERCENTAGE SECTION   ~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

    <div class="flex-wrapper">
        <div class="single-chart text-center">
            <h1 id="company-economy">Profit</h1>
            <svg viewBox="0 0 36 36" class="circular-chart light-blue">
                <path class="circle-bg" d="M18 2.0845
            a 15.9155 15.9155 0 0 1 0 31.831
            a 15.9155 15.9155 0 0 1 0 -31.831" />
                <path class="circle" stroke-dasharray="85, 100" d="M18 2.0845
            a 15.9155 15.9155 0 0 1 0 31.831
            a 15.9155 15.9155 0 0 1 0 -31.831" />
                <text x="18" y="20.35" class="percentage">85%</text>
            </svg>
        </div>
        <div class="single-chart text-center">
            <h1 id="company-economy">No. of visits</h1>
            <svg viewBox="0 0 36 36" class="circular-chart orange">
                <path class="circle-bg" d="M18 2.0845
            a 15.9155 15.9155 0 0 1 0 31.831
            a 15.9155 15.9155 0 0 1 0 -31.831" />
                <path class="circle" stroke-dasharray="42, 100" d="M18 2.0845
            a 15.9155 15.9155 0 0 1 0 31.831
            a 15.9155 15.9155 0 0 1 0 -31.831" />
                <text x="18" y="20.35" class="percentage">42%</text>
            </svg>
        </div>

        <div class="single-chart text-center">
            <h1 id="company-economy">Customers</h1>
            <svg viewBox="0 0 36 36" class="circular-chart green">
                <path class="circle-bg" d="M18 2.0845
            a 15.9155 15.9155 0 0 1 0 31.831
            a 15.9155 15.9155 0 0 1 0 -31.831" />
                <path class="circle" stroke-dasharray="81, 100" d="M18 2.0845
            a 15.9155 15.9155 0 0 1 0 31.831
            a 15.9155 15.9155 0 0 1 0 -31.831" />
                <text x="18" y="20.35" class="percentage">81%</text>
            </svg>
        </div>

        <div class="single-chart text-center">
            <h1 id="company-economy">Sales</h1>
            <svg viewBox="0 0 36 36" class="circular-chart red">
                <path class="circle-bg" d="M18 2.0845
            a 15.9155 15.9155 0 0 1 0 31.831
            a 15.9155 15.9155 0 0 1 0 -31.831" />
                <path class="circle" stroke-dasharray="53, 100" d="M18 2.0845
            a 15.9155 15.9155 0 0 1 0 31.831
            a 15.9155 15.9155 0 0 1 0 -31.831" />
                <text x="18" y="20.35" class="percentage">53%</text>
            </svg>
        </div>
    </div>



    <!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

    <!-- $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$   BITCOIN STATISTICS   $$$$$$$$$$$$$$$$$$$$$$ -->


    <section class="top-content">
        <div class="circle-top"></div>
        <div class="vl-start"></div>
        <div class="head">
            <div class="hl-block">
                <span class="circle circle-left"></span>
                <span class="hl"></span>
                <span class="circle circle-right"></span>
            </div>
            <h1 class="text-center">Bitcoin statistics</h1>
            <div class="hl-block">
                <span class="circle circle-left"></span>
                <span class="hl"></span>
                <span class="circle circle-right"></span>
            </div>
        </div>
        <div class="vl-end"></div>
        <div class="circle-bottom"></div>
    </section>
    <div class="table-box-container">
        <div class="table-box text-center">
            <h3>Bitcoin price</h3>
            <table class="container">
                <tbody>
                    <tr>
                        <td id="dollarAmt1">$1.00 </td>
                        <!-- <td id="bitcoinAmt1">0.00002449 BTC</td> -->
                        <td id="bitcoinAmt1"></td>
                   </tr>
                    <tr>
                        <td id="dollarAmt2">$10</td>
                        <td id="bitcoinAmt2"></td>
                    </tr>
                    <tr>
                        <td id="dollarAmt3">$100</td>
                        <td id="bitcoinAmt3"></td>
                    </tr>
                    <tr>
                        <td id="dollarAmt4">$1K</td>
                        <td id="bitcoinAmt4"></td>
                    </tr>
                    <tr>
                        <td id="dollarAmt5">$10K</td>
                        <td id="bitcoinAmt5"></td>
                    </tr>
                    <tr>
                        <td id="dollarAmt6">$100K</td>
                        <td id="bitcoinAmt6"></td>
                    </tr>
                    <tr>
                        <td id="dollarAmt7">$1M</td>
                        <td id="bitcoinAmt7"></td>
                    </tr>
                    <tr>
                        <td id="dollarAmt8">$10M</td>
                        <td id="bitcoinAmt8"></td>
                    </tr>
                    <tr>
                        <td id="dollarAmt9">$100M</td>
                        <td id="bitcoinAmt9"></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="table-box text-center">
            <h3> Bitcoin Network</h3>
            <table class="container">
                <tbody>
                    <tr>
                        <td>Tejoncitadel</td>
                        <td>Blockcypher</td>
                    </tr>
                    <tr>
                        <td>Nodes Found</td>
                        <td>4,000</td>
                    </tr>
                    <tr>
                        <td>Tejon Reachability</td>
                        <td>Yes</td>
                    </tr>
                    <tr>
                        <td>Miners active</td>
                        <td>Yes</td>
                    </tr>
                    <tr>
                        <td>Unique wallets found</td>
                        <td>943,302,778</td>
                    </tr>
                    <tr>
                        <td>Zero Balance wallets</td>
                        <td>904,163,395</td>
                    </tr>
                    <tr>
                        <td>Bitcoin.org web rank</td>
                        <!-- <td id="alexa_score">34578 alexa score</td> -->
                        <td id="alexa_score"></td>
                    </tr>
                    <tr>
                        <td>Sentiment up score</td>
                        <!-- <td id="sentiment-up">62.850%( CoinGecko)</td> -->
                        <td id="sentiment-up">( CoinGecko)</td>
                    </tr>
                    <tr>
                        <td>Sentiment down score</td>
                        <!-- <td id="sentiment-down">37.150% ( CoinGecko)</td> -->
                        <td id="sentiment-down"> ( CoinGecko)</td>
                    </tr>
                </tbody>
            </table>
        </div>
       <div class="table-box text-center">
            <h3>Network Security</h3>
            <table class="container">
                <tbody>
                    <tr>
                        <td>Mining Algotithm </td>
                        <td>SHA-256</td>
                    </tr>
                    <tr>
                        <td>Hash Rate </td>
                        <td>178.8 EH/S</td>
                    </tr>
                    <tr>
                        <td>24H Mining Rev. (BTC)</td>
                        <td>888.79621252 BTC</td>
                    </tr>
                    <tr>
                        <td>Bitcoin Dominance</td>
                        <td>Avoid This Metic</td>
                    </tr>
                    <tr>
                        <td>Supply Still Capped @ 21M?</td>
                        <td>TRUE</td>
                    </tr>
                    <tr>
                        <td>Victim of 51% Attack?</td>
                        <td>FALSE</td>
                    </tr>
                    <tr>
                        <td>Last TX Double-spent?</td>
                        <td>FALSE</td>
                    </tr>
                    <tr>
                        <td>Network Health</td>
                        <td>14,987 Nodes Found</td>
                    </tr>
                </tbody>
            </table>
        </div>
         <div class="table-box text-center">
            <h3>Mining Information</h3>
            <table class="container">
                <tbody>
                    <tr>
                        <td>Genesis Block Date</td>
                        <td>3 January 2009</td>
                    </tr>
                    <tr>
                        <td>Mining Algorithm</td>
                        <td>SHA-256</td>
                    </tr>
                    <tr>
                        <td>Difficulty</td>
                        <td>24,371,874,614,346</td>
                    </tr>
                    <tr>
                        <td>Block Size</td>
                        <td>127,331,195 Bytes</td>
                    </tr>
                    <tr>
                        <td>Latest Hash</td>
                        <td>000000000......47375953</td>
                    </tr>
                    <tr>
                        <td>Previous Hash</td>
                        <td>00000000.....fb2a2c0d</td>
                    </tr>
                    <tr>
                        <td>Bitcoin Hash Rate</td>
                        <td>170.8 EH/s</td>
                    </tr>
                    <tr>
                        <td>Target Block Time</td>
                        <td>10.00 Minutes</td>
                    </tr>
                    <tr>
                        <td>Real Block Time</td>
                        <td>9.46 Minutes</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$ -->

    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
    ​



   


    <footer id="footer">
        <p>Copyright &copy; 2022 <img src="images/logo-trans.png" alt="logo" width="195" height="60"
                class="ml-5 d-inline-block align-top" alt="" loading="lazy"> All Rights Reserved.</p>
    </footer>

    <script>
            var icon = document.getElementById("icon")

            icon.onclick = function () {
                document.body.classList.toggle("dark-theme")
                if(document.body.classList.contains("dark-theme")){
                    icon.src = "images/sun.png";
                }else {
                    icon.src = "images/moon.png"
                }
            }

            function numberWithCommas(x) {
                return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            }

            function roundNumber(num){
                (Math.round(num * 100) / 100).toFixed(2);
            }
            Number.prototype.toFixedNoRound = function(){
                const factor = Math.pow(10, 1);
                return Math.floor(this * factor)/factor;
            }

            function toFixedNoRound(value) {
                const factor = Math.pow(10, 1);
                let result = (value / 1000000000);
                result =  Math.floor(result * factor)/factor;
                result = result + 'B';
                return result;
         
            }
            async function getPrice() {
                let response = await fetch(
                "https://api.coingecko.com/api/v3/coins/bitcoin/"
                );
                let data = await response.json();
                return data.market_data.current_price.usd;
            }
            getPrice().then(data => 
            {
                document.getElementById('price-id').innerHTML = "$" + numberWithCommas(data);
                console.log(data)
            });

            async function getAth() {
                let response = await fetch(
                "https://api.coingecko.com/api/v3/coins/bitcoin/"
                );
                let data = await response.json();
                return data.market_data.ath.usd;
            }
            getAth().then(data => 
            {
                document.getElementById('ath-id').innerHTML = "$" + numberWithCommas(data);
                console.log(data)
            });

            async function getChange() {
                let response = await fetch(
                "https://api.coingecko.com/api/v3/coins/bitcoin/"
                );
                let data = await response.json();
                return data.market_data.ath_change_percentage.usd;
            }
            getChange().then(data => 
            {
                document.getElementById('change-id').innerHTML = "$" + (Math.round(data * 100) / 100).toFixed(2);
                console.log(data)

                console.log((Math.round(-37.87058 * 100) / 100).toFixed(2))
            });

            async function getVolume() {
                let response = await fetch(
                "https://api.coingecko.com/api/v3/coins/bitcoin/"
                );
                let data = await response.json();
                return data.market_data.total_volume.usd;
            }
            getVolume().then(data => 
            {
                document.getElementById('volume-id').innerHTML = "$" + toFixedNoRound(data);
                console.log(data)
            });

            function calc(num) {
                var with8Decimals = num.toString().match(/^-?\d+(?:\.\d{0,8})?/)[0]
                return with8Decimals
            }
            
            function abTonu(value) {
                let price = value.replace(/\$/g, '');
                let num = price.substring(0, price.length - 1);
                console.log(price)

                var lastPriceValue=price.slice(-1);//d
                if (lastPriceValue === 'K'){
                    return num * 1000;
                }
                if (lastPriceValue === 'M'){
                    return num * 1000000
                }
            }
            
            abTonu(document.getElementById('dollarAmt5').innerHTML)

            async function usdToBtc() {
                let response = await fetch(
                "https://api.coingecko.com/api/v3/coins/bitcoin/"
                );
                let data = await response.json();
                let price = data.market_data.current_price.usd;
                return data.market_data.current_price.usd;
            }
            usdToBtc().then(data => 
            {
                let id=1;
                let dollar = document.getElementById('dollarAmt'+ id).innerHTML.replace(/\$/g, '');
                console.log("type " + typeof dollar)
                let btc = document.getElementById('bitcoinAmt' + id).innerHTML = calc(dollar/data) + " BTC";
                console.log(btc + "id is " + id);

            });
            usdToBtc().then(data => 
            {
                let id=2;
                let dollar = document.getElementById('dollarAmt'+ id).innerHTML.replace(/\$/g, '');
                let btc = document.getElementById('bitcoinAmt' + id).innerHTML = calc(dollar/data) + " BTC";
                console.log(btc + "id is " + id);

            });
            usdToBtc().then(data => 
            {
                let id=3;
                let dollar = document.getElementById('dollarAmt'+ id).innerHTML.replace(/\$/g, '');
                let btc = document.getElementById('bitcoinAmt' + id).innerHTML = calc(dollar/data) + " BTC";
                console.log(btc + "id is " + id);

            });
            usdToBtc().then(data => 
            {
                let id=4;
                
                let dollar1 = document.getElementById('dollarAmt'+ id).innerHTML;
                let dollar = abTonu(dollar1);
                let btc = document.getElementById('bitcoinAmt' + id).innerHTML = calc(dollar/data) + " BTC";
                console.log(btc + "id is " + id);

            });
            usdToBtc().then(data => 
            {
                let id=5;
                let dollar1 = document.getElementById('dollarAmt'+ id).innerHTML;
                let dollar = abTonu(dollar1);
                let btc = document.getElementById('bitcoinAmt' + id).innerHTML = calc(dollar/data) + " BTC";
                console.log(btc + "id is " + id);

            });
            usdToBtc().then(data => 
            {
                let id=6;
                let dollar1 = document.getElementById('dollarAmt'+ id).innerHTML;
                let dollar = abTonu(dollar1);
                let btc = document.getElementById('bitcoinAmt' + id).innerHTML = calc(dollar/data) + " BTC";
                console.log(btc + "id is " + id);

            });
            usdToBtc().then(data => 
            {
                let id=7;
                let dollar1 = document.getElementById('dollarAmt'+ id).innerHTML;
                let dollar = abTonu(dollar1);
                let btc = document.getElementById('bitcoinAmt' + id).innerHTML = calc(dollar/data) + " BTC";
                console.log(btc + "id is " + id);

            });
            usdToBtc().then(data => 
            {
                let id=8;
                let dollar1 = document.getElementById('dollarAmt'+ id).innerHTML;
                let dollar = abTonu(dollar1);
                let btc = document.getElementById('bitcoinAmt' + id).innerHTML = calc(dollar/data) + " BTC";
                console.log(btc + "id is " + id);

            });
            usdToBtc().then(data => 
            {
                let id=9;
                let dollar1 = document.getElementById('dollarAmt'+ id).innerHTML;
                let dollar = abTonu(dollar1);
                let btc = document.getElementById('bitcoinAmt' + id).innerHTML = calc(dollar/data) + " BTC";
                console.log(btc + "id is " + id);

            });
            
            // sentiment-up
            async function getSentimentUp() {
                let response = await fetch(
                "https://api.coingecko.com/api/v3/coins/bitcoin/"
                );
                let data = await response.json();
                return data.sentiment_votes_up_percentage;
            }
            getSentimentUp().then(data => 
            {
                document.getElementById('sentiment-up').innerHTML = data + "%( CoinGecko)";
                console.log(data)
            });
            async function getSentimentDown() {
                let response = await fetch(
                "https://api.coingecko.com/api/v3/coins/bitcoin/"
                );
                let data = await response.json();
                return data.sentiment_votes_down_percentage;
            }
            getSentimentDown().then(data => 
            {
                document.getElementById('sentiment-down').innerHTML = data + "%( CoinGecko)";
                console.log(data)
            });
            async function getAlexaScore() {
                let response = await fetch(
                "https://api.coingecko.com/api/v3/coins/bitcoin/"
                );
                let data = await response.json();
                return data.public_interest_stats.alexa_rank;
            }
            getAlexaScore().then(data => 
            {
                document.getElementById('alexa_score').innerHTML = data + " alexa score ";
                console.log(data)
            });

            
    </script>

</body>

</html>